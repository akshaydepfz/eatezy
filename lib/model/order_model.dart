class OrderModel {
  String id;
  String uuid;
  String vendorId;
  String createdDate;
  String customerName;
  String phone;
  String address;
  bool isPaid;
  String orderStatus;
  String deliveryBoyId;
  bool isDelivered;
  bool isCancelled;
  String deliveryType;
  bool isRated;
  double rating;
  String confimedTime;
  String driverGoShopTime;
  String orderPickedTime;
  String onTheWayTime;
  String orderDeliveredTime;
  int deliveryCharge;
  String lat;
  String long;
  String customerImage;
  String vendorName;
  String shopImage;
  String vendorPhone;
  String chatId;
  List<OrderedProduct> products;

  OrderModel({
    required this.id,
    required this.uuid,
    required this.vendorId,
    required this.createdDate,
    required this.customerName,
    required this.phone,
    required this.address,
    required this.isPaid,
    required this.orderStatus,
    required this.deliveryBoyId,
    required this.isDelivered,
    required this.isCancelled,
    required this.deliveryType,
    required this.isRated,
    required this.rating,
    required this.confimedTime,
    required this.driverGoShopTime,
    required this.orderPickedTime,
    required this.onTheWayTime,
    required this.orderDeliveredTime,
    required this.deliveryCharge,
    required this.lat,
    required this.long,
    required this.customerImage,
    required this.vendorName,
    required this.shopImage,
    required this.vendorPhone,
    required this.chatId,
    required this.products,
  });

  factory OrderModel.fromFirestore(Map<String, dynamic> data, String id) {
    return OrderModel(
      id: id,
      uuid: data['uuid'],
      vendorId: data['vendor_id'],
      createdDate: data['created_date'],
      customerName: data['customer_name'],
      phone: data['phone'],
      address: data['address'],
      isPaid: data['isPaid'],
      orderStatus: data['order_status'],
      deliveryBoyId: data['deliveryBoyId'] ?? '',
      isDelivered: data['isDelivered'] ?? false,
      isCancelled: data['isCancelled'] ?? false,
      deliveryType: data['delivery_type'] ?? '',
      isRated: data['is_rated'] ?? false,
      rating: data['star']?.toDouble() ?? 0.0,
      confimedTime: data['confrimTime'] ?? '',
      driverGoShopTime: data['driverShop'] ?? '',
      orderPickedTime: data['pickedTime'] ?? '',
      onTheWayTime: data['onTheWayTime'] ?? '',
      orderDeliveredTime: data['deliveredTime'] ?? '',
      deliveryCharge: data['delivery_charge'] ?? 0,
      lat: data['lat'] ?? '',
      long: data['long'] ?? '',
      customerImage: data['customer_image'] ?? '',
      vendorName: data['vendor_name'] ?? '',
      shopImage: data['shop_image'] ?? '',
      vendorPhone: data['vendor_phone'] ?? '',
      chatId: data['chat_id'] ?? '',
      products: (data['products'] as List<dynamic>)
          .map((e) => OrderedProduct.fromMap(e))
          .toList(),
    );
  }

  Map<String, dynamic> toMap() {
    return {
      'uuid': uuid,
      'vendor_id': vendorId,
      'created_date': createdDate,
      'customer_name': customerName,
      'phone': phone,
      'address': address,
      'isPaid': isPaid,
      'order_status': orderStatus,
      'deliveryBoyId': deliveryBoyId,
      'isDelivered': isDelivered,
      'isCancelled': isCancelled,
      'delivery_type': deliveryType,
      'is_rated': isRated,
      'star': rating,
      'confrimTime': confimedTime,
      'driverShop': driverGoShopTime,
      'pickedTime': orderPickedTime,
      'onTheWayTime': onTheWayTime,
      'deliveredTime': orderDeliveredTime,
      'delivery_charge': deliveryCharge,
      'lat': lat,
      'long': long,
      'customer_image': customerImage,
      'vendor_name': vendorName,
      'shop_image': shopImage,
      'vendor_phone': vendorPhone,
      'chat_id': chatId,
      'products': products.map((e) => e.toMap()).toList(),
    };
  }
}

class OrderedProduct {
  String name;
  String image;
  String description;
  int quantity;
  double price;
  String unit;

  OrderedProduct({
    required this.name,
    required this.image,
    required this.description,
    required this.quantity,
    required this.price,
    required this.unit,
  });

  Map<String, dynamic> toMap() {
    return {
      'name': name,
      'image': image,
      'description': description,
      'quantity': quantity,
      'price': price,
      'unit': unit,
    };
  }

  factory OrderedProduct.fromMap(Map<String, dynamic> map) {
    return OrderedProduct(
      name: map['name'],
      image: map['image'],
      description: map['description'],
      quantity: map['quantity'],
      price: map['price'].toDouble(),
      unit: map['unit'],
    );
  }
}
